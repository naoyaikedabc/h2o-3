//
// H2O Parquet Parser
//
description = "H2O Parquet Parser"

dependencies {
  compile project(":h2o-core")
  // Parquet support
  // Use the same version as Spark 1.5-2.0
  compile("org.apache.parquet:parquet-hadoop:1.7.0")
  compile("org.apache.parquet:parquet-avro:1.7.0")
  compile("org.apache.hadoop:hadoop-common:$parquetDefaultHadoopClientVersion") {
    transitive = false
  }

  testCompile "junit:junit:${junitVersion}"
  testCompile project(path: ":h2o-core", configuration: "testArchives")
  // We need correct version of MapRe Hadoop to run JUnits
  testCompile("org.apache.hadoop:hadoop-client:$parquetDefaultHadoopClientVersion")
}

apply from: "${rootDir}/gradle/dataCheck.gradle"

test {
  dependsOn ":h2o-core:testJar"
  dependsOn smalldataCheck, cpLibs, jar, testJar, testMultiNode

  // Defeat task 'test' by running no tests.
  exclude '**'
}
